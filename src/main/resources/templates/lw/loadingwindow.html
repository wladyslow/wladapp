<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${loadingWindow.id == null}? #{addLoadingWindow} : #{editLoadingWindow}">Создать/редактировать грузовую
        позицию</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
</head>
<body>

<form id="add-form" th:action="@{/loadwindows/save}" th:if="${loadingWindow.id == null}" method="post"
      action="loadingwindow.html"
      th:object="${loadingWindow}">
    <p><strong th:text="#{addLoadingWindow}">Создать грузовую позицию</strong></p>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{id}" placeholder="id (*)" class="form-control" hidden/>
    </div>

    <label for="Выбор груза" th:text="#{loadingwindows.page.cargo}"></label>
    <select id="Выбор груза" th:field="*{cargo}">
        <option th:each="cargo: ${cargos}"
                th:value="${cargo}" th:text="${cargo.type}">
            <!--th:value="${quantity.quantity}" th:text="${quantity.quantity}">-->
        </option>
    </select>


    <!-- <div style="margin-bottom: 25px" class="input-group">
         <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
         <input th:field="*{cargo}" th:placeholder="#{loadingwindows.page.cargo}" class="form-control"/>
     </div>-->

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{type}" th:placeholder="#{loadingwindows.page.type}" class="form-control"/>
    </div>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{positionNumber}" th:placeholder="#{loadingwindows.page.positionNumber}"
               class="form-control"/>
    </div>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{positionPostfix}" th:placeholder="#{loadingwindows.page.positionPostfix}"
               class="form-control"/>
    </div>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{status}" th:placeholder="#{loadingwindows.page.status}" class="form-control"/>
    </div>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{initDate}" th:placeholder="#{loadingwindows.page.initDate}" class="form-control"/>
    </div>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{loadDate}" th:placeholder="#{loadingwindows.page.loadDate}" class="form-control"/>
    </div>

    <th:block th:each="shipperQuantityDto,shipperQuantityDtoStat: ${loadingWindow.shipperQuantityList}">
    <label for="Выбор грузоотправителя" th:text="#{loadingwindows.page.shipper}"></label>
    <select id="Выбор грузоотправителя" th:field="*{shipperQuantityList[__${shipperQuantityDtoStat.index}__].shipper}">
        <option th:each="shipperDto: ${allShipperDtoList}"
                th:id="*{shipperQuantityList[__${shipperQuantityDtoStat.index}__].shipper}"
                th:value="*{shipperQuantityList[__${shipperQuantityDtoStat.index}__].shipper}" th:text="${shipperDto.name}">
            <!--th:value="${quantity.quantity}" th:text="${quantity.quantity}">-->
        </option>
    </select>
        <div style="margin-bottom: 25px" class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <input
                    th:field="*{shipperQuantityList[__${shipperQuantityDtoStat.index}__].quantity}"
                    th:placeholder="#{loadingwindows.page.quantity}" class="form-control"
                   th:value="*{shipperQuantityList[__${shipperQuantityDtoStat.index}__].quantity}"
                   th:id="*{shipperQuantityList[__${shipperQuantityDtoStat.index}__].quantity}"/>
        </div>
    </th:block>
    <!--<th:block th:each="shipperQuantity : ${shipperQuantities}">
        <div style="margin-bottom: 25px" class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <input th:field="*{shipperQuantities.shipperQuantity.shipper}" th:placeholder="#{loadingwindows.page.shipper}"
                   class="form-control"/>
            <label for="quantityCreate" th:text="#{loadingwindows.page.quantity}">Количество:</label>
            <input th:field="${shipperQuantity.quantity}" id="quantityCreate" placeholder="quantity (*)"
                   class="form-control"/>
        </div>
    </th:block>-->
    <div class="row">
        <a th:href="@{/loadwindows}" href="loadingwindows.html"><img alt="Back"
                                                                     th:src="@{/images/back.png}"/></a>
        <button type="submit"><img alt="Save" th:src="@{/images/save.png}"/></button>
    </div>
</form>
<form id="edit-form" th:action="@{/loadwindows/save(id=${loadingWindow.id})}" th:unless="${loadingWindow.id == null}"
      method="post"
      action="loadingwindow.html" th:object="${loadingWindow}">
    <p><strong th:text="#{editLoadingWindow}">Редактировать грузовую позицию</strong></p>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{id}" placeholder="id (*)" class="form-control" hidden/>
    </div>

    <label for="Выбор груза" th:text="#{loadingwindows.page.cargo}"></label>
    <select id="Выбор груза" th:field="*{cargo}">
        <option th:each="cargo: ${cargos}"
                th:value="${cargo}" th:text="${cargo.type}">
            <!--th:value="${quantity.quantity}" th:text="${quantity.quantity}">-->
        </option>
    </select>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{type}" th:placeholder="#{loadingwindows.page.type}" class="form-control"/>
    </div>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{positionNumber}" th:placeholder="#{loadingwindows.page.positionNumber}"
               class="form-control"/>
    </div>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{positionPostfix}" th:placeholder="#{loadingwindows.page.positionPostfix}"
               class="form-control"/>
    </div>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{status}" th:placeholder="#{loadingwindows.page.status}" class="form-control"/>
    </div>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input type="date" th:field="*{initDate}" th:placeholder="#{loadingwindows.page.initDate}"
               class="form-control"/>
    </div>

    <div style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input type="date" th:field="*{loadDate}" th:placeholder="#{loadingwindows.page.loadDate}"
               class="form-control"/>
    </div>

    <div th:each="shipperQuantity : ${loadingWindow.shipperQuantities}" style="margin-bottom: 25px" class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
        <input th:field="*{shipper}" th:placeholder="#{loadingwindows.page.shipper}" class="form-control"/>

        <label for="quantity" th:text="#{loadingwindows.page.quantity}">Количество:</label>
        <input id="quantity" th:field="*{quantity}" placeholder="quantity (*)" class="form-control"/>
    </div>

    <div class="row">
        <a th:href="@{/loadwindows}" href="loadingwindows.html"><img alt="Back" th:src="@{/images/back.png}"/></a>
        <button type="submit"><img alt="Save" th:src="@{/images/save.png}"/></button>
    </div>
</form>
<div th:with="currentUrl=(${@currentUrlWithoutParam.apply('lang')})">
    <a th:href="@{${currentUrl}(lang=en)}" th:text="#{en}">en</a>
    <a th:href="@{${currentUrl}(lang=ru)}" th:text="#{ru}">ru</a>
</div>
</body>
</html>